<!DOCTYPE html>

<html>

    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/bootstrap.css') }}">
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    </head>
    <body onload="requestData()">
        <div class="container-fluid">

            <!-- Header  -->
            <div class="row header">
                <div class="col-12 d-flex align-items-center justify-content-center">
                    <div class='headerCurve'></div>
                    <image class='logo' src= "{{ url_for('static',filename='images/logo.png') }}"></image>
                    <image class='webooster' src= "{{ url_for('static',filename='images/webooster.png') }}"></image>
                </div>
            </div>

            <!-- Acceleration Box -->
            <div class="row" >
                <div class="col-5 box rightcol ">
                    <div class="row " style='height: 26%;'>
                        <div class="col-12  accelerationHeader d-flex align-items-center justify-content-center">
                            <div style = "position:relative;left:-8%;">
                                Acceleration
                            </div>
                        </div>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class="col-10 dataText  d-flex align-items-center justify-content-center"><t class='acceleration'> 1000</t><t>  &nbsp m/s </t> <sup>2</sup></div>
                    </div>
                    <div class="row" style='height: 14%;'>
                        <div class="col-10 d-flex align-items-center justify-content-center">
                            <image id='accelerationDifference' class='increase-icon' src= "{{ url_for('static',filename='images/increase.png') }}"></image>
                        </div>
                        <image class='acceleration-icon' src= "{{ url_for('static',filename='images/speed-icon.png') }}"></image>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div id='acceleration' class="col-10 accelerationChange dataText d-flex align-items-center justify-content-center"></div>  
                    </div>
                </div>
                
                <!-- Altitude Box -->
                <div class="col-5 box leftcol">
                    <div class="row" style='height: 26%;'>
                        <div class="col-12 altitudeHeader d-flex align-items-center justify-content-center">
                            <div style = "position:relative;left:8%;">
                                Altitude
                            </div>
                        </div>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div class="col-10 dataText d-flex align-items-center justify-content-center"><t class='altitude'> 1000</t><t>  &nbsp m </t></div>
                    </div>
                    <div class="row" style='height: 14%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div class="col-10 d-flex align-items-center justify-content-center">
                            <image id='altitudeDifference' class='increase-icon' src= "{{ url_for('static',filename='images/decrease.png') }}"></image>
                        </div>
                        <image class='altitude-icon' src= "{{ url_for('static',filename='images/altitude-icon.png') }}"></image>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div id='altitude' class="col-10 altitudeChange  dataText d-flex align-items-center justify-content-center"></div>  
                    </div>
                </div>
            </div>

            <!-- Middle Circle  -->
            <div class='row'>
                <div class='col-12   d-flex align-items-center justify-content-center'>a
                    <div class='middleCircle'>
                        <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_WKNlGw.json"  
                        background="transparent"  speed="1"  
                        style="z-index: 3;;border-radius: 50%;position:absolute; width: 20vw; height: 20vw;top:50%;left:50%;transform: translate(-50%, -50%);"  
                        loop  autoplay></lottie-player>
                    </div>
                </div>
            </div>

            <!-- Location Box -->
            <div class="row">
                <div class="col-5 box rightcol" >
                    <div class="row" style='height: 26%;'>
                        <div class="col-12 locationHeader d-flex align-items-center justify-content-center">
                            <div style = "position:relative;left:-8%;">
                                Location
                            </div>
                        </div>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class="col-10 dataText d-flex align-items-center justify-content-center">106744840359415</div>

                    </div>
                    <div class="row" style='height: 14%;'>
                        <image class='location-icon' src= "{{ url_for('static',filename='images/location-icon.png') }}"></image>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class="col-10 dataText d-flex align-items-center justify-content-center">106744840359415</div>                   
                    </div>
                </div>


                <!-- Temperature Box -->
                <div class="col-5  box leftcol">
                    <div class="row" style='height: 26%;'>
                        <div class="col-12 temperatureHeader d-flex align-items-center justify-content-center">
                            <div style = "position:relative;left:8%;">
                                Temperature
                            </div>
                        </div>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div class="col-10 dataText d-flex align-items-center justify-content-center"><t class='temperature'> 0 </t> <t>  &nbsp &#8451 </t> </div>
                    </div>
                    <div class="row" style='height: 14%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div class="col-10 d-flex align-items-center justify-content-center">
                            <image id='temperatureDifference' class='increase-icon' src= "{{ url_for('static',filename='images/increase.png') }}"></image>
                        </div>
                        <image class='temperature-icon' src= "{{ url_for('static',filename='images/temperature-icon.png') }}"></image>
                    </div>
                    <div class="row" style='height: 30%;'>
                        <div class='col-2' style='margin-left: 0px;margin-right:0px ;padding: 0px;'></div>
                        <div id='temperature' class="col-10 temperatureChange dataText d-flex align-items-center justify-content-center"></div>  
                    </div>
                </div>
                </div>
            </div>
        </div>
        <!-- <div class='middleCircle'></div>
        <lottie-player src="https://assets3.lottiefiles.com/packages/lf20_WKNlGw.json"  
        background="transparent"  speed="1"  
        style="z-index: 3;;border-radius: 50%;position:absolute; width: 20vw; height: 20vw;top:50%;left:50%;transform: translate(-50%, -50%);"  
        loop  autoplay></lottie-player> -->
        
    </body>


    <script>
        function requestData()
        {
            // Ajax call to get the Data from Flask
            var requests = $.get('/data');

            var tm = requests.done(function (result)
            {
                console.log(result)
                $(".acceleration").text("");
                $(".acceleration").text((result['acceleration']));
                $(".accelerationChange").text("");
                $(".accelerationChange").text((result['accelerationChange']) + '\u00A0 %');

                if(result['accelerationChange'] < 0){
                    document.getElementById("accelerationDifference").src = "{{ url_for('static',filename='images/decrease.png') }}";
                    document.getElementById("acceleration").style.color = 'red';
                }
                else{
                    document.getElementById("accelerationDifference").src = "{{ url_for('static',filename='images/increase.png') }}";
                    document.getElementById("acceleration").style.color = 'green';

                }
                

                
                $(".altitude").text("");
                $(".altitude").text((result['altitude']));
                $(".altitudeChange").text("");
                $(".altitudeChange").text((result['altitudeChange']) + '\u00A0 %');

                if(result['altitudeChange'] < 0){
                    document.getElementById("altitudeDifference").src = "{{ url_for('static',filename='images/decrease.png') }}";
                    document.getElementById("altitude").style.color = 'red';
                }
                else{
                    document.getElementById("altitudeDifference").src = "{{ url_for('static',filename='images/increase.png') }}";
                    document.getElementById("altitude").style.color = 'green';
                }
                

                $(".temperature").text("");
                $(".temperature").text((result['temperature']));
                $(".temperatureChange").text("");
                $(".temperatureChange").text((result['temperatureChange']) + '\u00A0 %') ;

                if(result['temperatureChange'] < 0){
                    document.getElementById("temperatureDifference").src = "{{ url_for('static',filename='images/decrease.png') }}";
                    document.getElementById("temperature").style.color = 'red';

                }
                else{
                    document.getElementById("temperatureDifference").src = "{{ url_for('static',filename='images/increase.png') }}";
                    document.getElementById("temperature").style.color = 'green';

                }
                

                $(".longitude").text("");
                $(".longitude").text((result['longitude']));

                $(".latitude").text("");
                $(".latitude").text((result['latitude']));
                // call it again after one second
                setTimeout(requestData, 1000);

            });
        }

    </script>


    
</html>